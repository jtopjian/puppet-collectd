#
# Config file for collectd(1).
#
# Some plugins need additional configuration and are disabled by default.
# Please read collectd.conf(5) for details.
#
# You should also read /usr/share/doc/collectd-core/README.Debian.plugins
# before enabling any more plugins.

#Hostname "localhost"
FQDNLookup true
#BaseDir "/var/lib/collectd"
#PluginDir "/usr/lib/collectd"
#TypesDB "/usr/share/collectd/types.db" "/etc/collectd/my_types.db"
#Interval 10
#Timeout 2
#ReadThreads 5

#LoadPlugin logfile
LoadPlugin syslog

#<Plugin logfile>
#	LogLevel "info"
#	File STDOUT
#	Timestamp true
#	PrintSeverity false
#</Plugin>

<Plugin syslog>
	LogLevel info
</Plugin>

<% if plugins.include? "apache" -%>
LoadPlugin apache
<% end -%>
<% if plugins.include? "apcups" -%>
#LoadPlugin apcups
<% end -%>
<% if plugins.include? "ascent" -%>
#LoadPlugin ascent
<% end -%>
<% if plugins.include? "battery" -%>
LoadPlugin battery
<% end -%>
<% if plugins.include? "bind" -%>
#LoadPlugin bind
<% end -%>
<% if plugins.include? "conntrack" -%>
LoadPlugin conntrack
<% end -%>
<% if plugins.include? "contextswitch" -%>
LoadPlugin contextswitch
<% end -%>
<% if plugins.include? "cpu" -%>
LoadPlugin cpu
<% end -%>
<% if plugins.include? "cpufreq" -%>
LoadPlugin cpufreq
<% end -%>
<% if plugins.include? "csv" -%>
#LoadPlugin csv
<% end -%>
<% if plugins.include? "curl" -%>
#LoadPlugin curl
<% end -%>
<% if plugins.include? "curl_json" -%>
#LoadPlugin curl_json
<% end -%>
<% if plugins.include? "curl_xml" -%>
#LoadPlugin curl_xml
<% end -%>
<% if plugins.include? "dbi" -%>
#LoadPlugin dbi
<% end -%>
<% if plugins.include? "df" -%>
LoadPlugin df
<% end -%>
<% if plugins.include? "disk" -%>
LoadPlugin disk
<% end -%>
<% if plugins.include? "dns" -%>
#LoadPlugin dns
<% end -%>
<% if plugins.include? "email" -%>
#LoadPlugin email
<% end -%>
<% if plugins.include? "entropy" -%>
LoadPlugin entropy
<% end -%>
<% if plugins.include? "exec" -%>
#LoadPlugin exec
<% end -%>
<% if plugins.include? "filecount" -%>
#LoadPlugin filecount
<% end -%>
<% if plugins.include? "fscache" -%>
#LoadPlugin fscache
<% end -%>
<% if plugins.include? "gmond" -%>
#LoadPlugin gmond
<% end -%>
<% if plugins.include? "hddtemp" -%>
LoadPlugin hddtemp
<% end -%>
<% if plugins.include? "interface" -%>
LoadPlugin interface
<% end -%>
<% if plugins.include? "ipmi" -%>
#LoadPlugin ipmi
<% end -%>
<% if plugins.include? "iptables" -%>
#LoadPlugin iptables
<% end -%>
<% if plugins.include? "ipvs" -%>
#LoadPlugin ipvs
<% end -%>
<% if plugins.include? "irq" -%>
LoadPlugin irq
<% end -%>
<% if plugins.include? "java" -%>
#LoadPlugin java
<% end -%>
<% if plugins.include? "libvirt" -%>
#LoadPlugin libvirt
<% end -%>
<% if plugins.include? "load" -%>
LoadPlugin load
<% end -%>
<% if plugins.include? "madwifi" -%>
#LoadPlugin madwifi
<% end -%>
<% if plugins.include? "mbmon" -%>
#LoadPlugin mbmon
<% end -%>
<% if plugins.include? "memcachec" -%>
#LoadPlugin memcachec
<% end -%>
<% if plugins.include? "memcached" -%>
#LoadPlugin memcached
<% end -%>
<% if plugins.include? "memory" -%>
LoadPlugin memory
<% end -%>
<% if plugins.include? "multimeter" -%>
#LoadPlugin multimeter
<% end -%>
<% if plugins.include? "mysql" -%>
#LoadPlugin mysql
<% end -%>
<% if plugins.include? "netlink" -%>
#LoadPlugin netlink
<% end -%>
<% if enable_network -%>
LoadPlugin network
<% end -%>
<% if plugins.include? "nfs" -%>
#LoadPlugin nfs
<% end -%>
<% if plugins.include? "nginx" -%>
#LoadPlugin nginx
<% end -%>
<% if plugins.include? "notify_desktop" -%>
#LoadPlugin notify_desktop
<% end -%>
<% if plugins.include? "notify_email" -%>
LoadPlugin notify_email
<% end -%>
<% if plugins.include? "ntpd" -%>
#LoadPlugin ntpd
<% end -%>
<% if plugins.include? "nut" -%>
#LoadPlugin nut
<% end -%>
<% if plugins.include? "olsrd" -%>
#LoadPlugin olsrd
<% end -%>
<% if plugins.include? "openvpn" -%>
#LoadPlugin openvpn
<% end -%>
<% if plugins.include? "perl" -%>
#LoadPlugin perl
<% end -%>
<% if plugins.include? "pinba" -%>
#LoadPlugin pinba
<% end -%>
<% if plugins.include? "ping" -%>
#LoadPlugin ping
<% end -%>
<% if plugins.include? "postgresql" -%>
#LoadPlugin postgresql
<% end -%>
<% if plugins.include? "powerdns" -%>
#LoadPlugin powerdns
<% end -%>
<% if plugins.include? "processes" -%>
#LoadPlugin processes
<% end -%>
<% if plugins.include? "protocols" -%>
LoadPlugin protocols
<% end -%>
<% if plugins.include? "python" -%>
#LoadPlugin python
<% end -%>
<% if plugins.include? "rrdcached" -%>
#LoadPlugin rrdcached
<% end -%>
<% if store_data -%>
LoadPlugin rrdtool
<% end -%>
<% if plugins.include? "sensors" -%>
#LoadPlugin sensors
<% end -%>
<% if plugins.include? "serial" -%>
#LoadPlugin serial
<% end -%>
<% if plugins.include? "snmp" -%>
#LoadPlugin snmp
<% end -%>
<% if plugins.include? "swap" -%>
LoadPlugin swap
<% end -%>
<% if plugins.include? "table" -%>
#LoadPlugin table
<% end -%>
<% if plugins.include? "tail" -%>
#LoadPlugin tail
<% end -%>
<% if plugins.include? "tcpconns" -%>
#LoadPlugin tcpconns
<% end -%>
<% if plugins.include? "teamspeak2" -%>
#LoadPlugin teamspeak2
<% end -%>
<% if plugins.include? "ted" -%>
#LoadPlugin ted
<% end -%>
<% if plugins.include? "thermal" -%>
#LoadPlugin thermal
<% end -%>
<% if plugins.include? "tokyotyrant" -%>
#LoadPlugin tokyotyrant
<% end -%>
<% if plugins.include? "unixsock" -%>
#LoadPlugin unixsock
<% end -%>
<% if plugins.include? "uptime" -%>
LoadPlugin uptime
<% end -%>
<% if plugins.include? "users" -%>
LoadPlugin users
<% end -%>
<% if plugins.include? "uuid" -%>
LoadPlugin uuid
<% end -%>
<% if plugins.include? "vmem" -%>
LoadPlugin vmem
<% end -%>
<% if plugins.include? "vserver" -%>
#LoadPlugin vserver
<% end -%>
<% if plugins.include? "wireless" -%>
#LoadPlugin wireless
<% end -%>
<% if plugins.include? "write_http" -%>
#LoadPlugin write_http
<% end -%>


<% if plugins.include? "apache" -%>
# TODO: support parameters here
<Plugin apache>
#	<Instance "foo">
#		URL "http://localhost/server-status?auto"
#		User "www-user"
#		Password "secret"
#		VerifyPeer false
#		VerifyHost false
#		CACert "/etc/ssl/ca.crt"
#		Server "apache"
#	</Instance>
#
#	<Instance "bar">
#		URL "http://some.domain.tld/status?auto"
#		Host "some.domain.tld"
#		Server "lighttpd"
#	</Instance>
  <Instance "server">
    URL "http://localhost/server-status?auto"
    Host "<%= fqdn %>"
    Server "apache"
  </Instance>
</Plugin>

<% end -%>
<% if plugins.include? "apcups" -%>
# TODO: support parameters here
#<Plugin apcups>
#	Host "localhost"
#	Port "3551"
#</Plugin>

<% end -%>
<% if plugins.include? "ascent" -%>
# TODO: support parameters here
#<Plugin ascent>
#	URL "http://localhost/ascent/status/"
#	User "www-user"
#	Password "secret"
#	VerifyPeer false
#	VerifyHost false
#	CACert "/etc/ssl/ca.crt"
#</Plugin>

<% end -%>
<% if plugins.include? "bind" -%>
# TODO: support parameters here
#<Plugin "bind">
#	URL "http://localhost:8053/"
#
#	OpCodes true
#	QTypes true
#	ServerStats true
#	ZoneMaintStats true
#	ResolverStats false
#	MemoryStats true
#
#	<View "_default">
#		QTypes true
#		ResolverStats true
#		CacheRRSets true
#
#		Zone "127.in-addr.arpa/IN"
#	</View>
#</Plugin>

<% end -%>
<% if plugins.include? "csv" -%>
# TODO: support parameters here
#<Plugin csv>
#	DataDir "/var/lib/collectd/csv"
#	StoreRates false
#</Plugin>

<% end -%>
<% if plugins.include? "curl" -%>
# TODO: support parameters here
#<Plugin curl>
#	<Page "stock_quotes">
#		URL "http://finance.google.com/finance?q=NYSE%3AAMD"
#		User "foo"
#		Password "bar"
#		VerifyPeer false
#		VerifyHost false
#		CACert "/etc/ssl/ca.crt"
#		MeasureResponseTime false
#		<Match>
#			Regex "<span +class=\"pr\"[^>]*> *([0-9]*\\.[0-9]+) *</span>"
#			DSType "GaugeAverage"
#			Type "stock_value"
#			Instance "AMD"
#		</Match>
#	</Page>
#</Plugin>

<% end -%>
<% if plugins.include? "curl_json" -%>
# TODO: support parameters here
#<Plugin curl_json>
## See: http://wiki.apache.org/couchdb/Runtime_Statistics
#  <URL "http://localhost:5984/_stats">
#    Instance "httpd"
#    <Key "httpd/requests/count">
#      Type "http_requests"
#    </Key>
#
#    <Key "httpd_request_methods/*/count">
#      Type "http_request_methods"
#    </Key>
#
#    <Key "httpd_status_codes/*/count">
#      Type "http_response_codes"
#    </Key>
#  </URL>
## Database status metrics:
#  <URL "http://localhost:5984/_all_dbs">
#    Instance "dbs"
#    <Key "*/doc_count">
#      Type "gauge"
#    </Key>
#    <Key "*/doc_del_count">
#      Type "counter"
#    </Key>
#    <Key "*/disk_size">
#      Type "bytes"
#    </Key>
#  </URL>
#</Plugin>

<% end -%>
<% if plugins.include? "curl_xml" -%>
# TODO: support parameters here
#<Plugin "curl_xml">
#	<URL "http://localhost/stats.xml">
#		Host "my_host"
#		Instance "some_instance"
#		User "collectd"
#		Password "thaiNg0I"
#		VerifyPeer true
#		VerifyHost true
#		CACert "/path/to/ca.crt"
#
#		<XPath "table[@id=\"magic_level\"]/tr">
#			Type "magic_level"
#			InstancePrefix "prefix-"
#			InstanceFrom "td[1]"
#			ValuesFrom "td[2]/span[@class=\"level\"]"
#		</XPath>
#	</URL>
#</Plugin>

<% end -%>
<% if plugins.include? "dbi" -%>
# TODO: support parameters here
#<Plugin dbi>
#	<Query "num_of_customers">
#		Statement "SELECT 'customers' AS c_key, COUNT(*) AS c_value \
#				FROM customers_tbl"
#		MinVersion 40102
#		MaxVersion 50042
#		<Result>
#			Type "gauge"
#			InstancePrefix "customer"
#			InstancesFrom "c_key"
#			ValuesFrom "c_value"
#		</Result>
#	</Query>
#
#	<Database "customers_db">
#		Driver "mysql"
#		DriverOption "host" "localhost"
#		DriverOption "username" "collectd"
#		DriverOption "password" "secret"
#		DriverOption "dbname" "custdb0"
#		SelectDB "custdb0"
#		Query "num_of_customers"
#		Query "..."
#	</Database>
#</Plugin>

<% end -%>
<% if plugins.include? "df" -%>
# TODO: support parameters here
#<Plugin df>
#	Device "/dev/sda1"
#	Device "192.168.0.2:/mnt/nfs"
#	Device "tmpfs"
#	Device "udev"
#	MountPoint "/home"
#	FSType "ext3"
#	IgnoreSelected false
#	ReportByDevice false
#	ReportReserved true
#	ReportInodes false
#</Plugin>

<% end -%>
<% if plugins.include? "disk" -%>
# TODO: support parameters here
#<Plugin disk>
#	Disk "hda"
#	Disk "/sda[23]/"
#	IgnoreSelected false
#</Plugin>

<% end -%>
<% if plugins.include? "dns" -%>
# TODO: support parameters here
#<Plugin dns>
#	Interface "eth0"
#	IgnoreSource "192.168.0.1"
#	SelectNumericQueryTypes false
#</Plugin>

<% end -%>
<% if plugins.include? "email" -%>
# TODO: support parameters here
#<Plugin email>
#	SocketFile "/var/run/collectd-email"
#	SocketGroup "collectd"
#	SocketPerms "0770"
#	MaxConns 5
#</Plugin>

<% end -%>
<% if plugins.include? "exec" -%>
# TODO: support parameters here
#<Plugin exec>
#	Exec user "/path/to/exec"
#	Exec "user:group" "/path/to/exec"
#	NotificationExec user "/path/to/exec"
#</Plugin>

<% end -%>
<% if plugins.include? "filecount" -%>
# TODO: support parameters here
#<Plugin filecount>
#	<Directory "/path/to/dir">
#		Instance "foodir"
#		Name "*.conf"
#		MTime "-5m"
#		Size "+10k"
#		Recursive true
#		IncludeHidden false
#	</Directory>
#</Plugin>

<% end -%>
<% if plugins.include? "gmond" -%>
# TODO: support parameters here
#<Plugin gmond>
#	MCReceiveFrom "239.2.11.71" "8649"
#
#	<Metric "swap_total">
#		Type "swap"
#		TypeInstance "total"
#		DataSource "value"
#	</Metric>
#
#	<Metric "swap_free">
#		Type "swap"
#		TypeInstance "free"
#		DataSource "value"
#	</Metric>
#</Plugin>

<% end -%>
<% if plugins.include? "hddtemp" -%>
# TODO: support parameters here
#<Plugin hddtemp>
#	Host "127.0.0.1"
#	Port 7634
#	TranslateDevicename false
#</Plugin>

<% end -%>
<% if plugins.include? "interface" -%>
# TODO: support parameters here
<Plugin interface>
	Interface "lo"
	IgnoreSelected true
</Plugin>

<% end -%>
<% if plugins.include? "ipmi" -%>
# TODO: support parameters here
#<Plugin ipmi>
#	Sensor "some_sensor"
#	Sensor "another_one"
#	IgnoreSelected false
#	NotifySensorAdd false
#	NotifySensorRemove true
#	NotifySensorNotPresent false
#</Plugin>

<% end -%>
<% if plugins.include? "iptables" -%>
# TODO: support parameters here
#<Plugin iptables>
#	Chain "table" "chain"
#</Plugin>

<% end -%>
<% if plugins.include? "irq" -%>
# TODO: support parameters here
#<Plugin irq>
#	Irq 7
#	Irq 8
#	Irq 9
#	IgnoreSelected true
#</Plugin>

<% end -%>
<% if plugins.include? "java" -%>
# TODO: support parameters here
#<Plugin java>
#	JVMArg "-verbose:jni"
#	JVMArg "-Djava.class.path=/usr/share/collectd/java/collectd-api.jar"
#
#	LoadPlugin "org.collectd.java.GenericJMX"
#	<Plugin "GenericJMX">
#		# See /usr/share/doc/collectd/examples/GenericJMX.conf
#		# for an example config.
#	</Plugin>
#</Plugin>

<% end -%>
<% if plugins.include? "libvirt" -%>
# TODO: support parameters here
#<Plugin libvirt>
#	Connection "xen:///"
#	RefreshInterval 60
#	Domain "name"
#	BlockDevice "name:device"
#	InterfaceDevice "name:device"
#	IgnoreSelected false
#	HostnameFormat name
#</Plugin>

<% end -%>
<% if plugins.include? "madwifi" -%>
# TODO: support parameters here
#<Plugin madwifi>
#	Interface "wlan0"
#	IgnoreSelected false
#	Source "SysFS"
#	WatchSet "None"
#	WatchAdd "node_octets"
#	WatchAdd "node_rssi"
#	WatchAdd "is_rx_acl"
#	WatchAdd "is_scan_active"
#</Plugin>

<% end -%>
<% if plugins.include? "mbmon" -%>
# TODO: support parameters here
#<Plugin mbmon>
#	Host "127.0.0.1"
#	Port 411
#</Plugin>

<% end -%>
<% if plugins.include? "memcachec" -%>
# TODO: support parameters here
#<Plugin memcachec>
#	<Page "plugin_instance">
#		Server "localhost"
#		Key "page_key"
#		<Match>
#			Regex "(\\d+) bytes sent"
#			ExcludeRegex "<lines to be excluded>"
#			DSType CounterAdd
#			Type "ipt_octets"
#			Instance "type_instance"
#		</Match>
#	</Page>
#</Plugin>

<% end -%>
<% if plugins.include? "memcached" -%>
# TODO: support parameters here
#<Plugin memcached>
#	Socket "/var/run/memcached.sock"
# or:
#	Host "127.0.0.1"
#	Port "11211"
#</Plugin>

<% end -%>
<% if plugins.include? "mysql" -%>
# TODO: support parameters here
#<Plugin mysql>
#	<Database db_name>
#		Host "database.serv.er"
#		Port "3306"
#		User "db_user"
#		Password "secret"
#		Database "db_name"
#		MasterStats true
#	</Database>
#
#	<Database db_name2>
#		Host "localhost"
#		Socket "/var/run/mysql/mysqld.sock"
#		SlaveStats true
#		SlaveNotifications true
#	</Database>
#</Plugin>

<% end -%>
<% if plugins.include? "netlink" -%>
# TODO: support parameters here
#<Plugin netlink>
#	Interface "All"
#	VerboseInterface "All"
#	QDisc "eth0" "pfifo_fast-1:0"
#	Class "ppp0" "htb-1:10"
#	Filter "ppp0" "u32-1:0"
#	IgnoreSelected false
#</Plugin>

<% end -%>
<% if enable_network -%>
<Plugin network>
<% if "" != forward_address -%>
	# client setup:
	<Server "<%= forward_address %>" "<%= forward_port %>">
		SecurityLevel Encrypt
		Username "<%= network_username %>"
		Password "<%= network_password %>"
	</Server>
	TimeToLive 128
<% end -%>
<% if "" != listen_address -%>
	# server setup:
	<Listen "<%= listen_address %>" "<%=  listen_port %>">
		SecurityLevel Encrypt
		AuthFile "<%= password_file %>"
	</Listen>
<% end -%>
	MaxPacketSize 1024

	# proxy setup (client and server as above):
	# Forward true

	# statistics about the network plugin itself
	ReportStats false

	# "garbage collection"
	CacheFlush 1800
</Plugin>

<% end -%>
<% if plugins.include? "nginx" -%>
# TODO: support parameters here
#<Plugin nginx>
#	URL "http://localhost/status?auto"
#	User "www-user"
#	Password "secret"
#	VerifyPeer false
#	VerifyHost false
#	CACert "/etc/ssl/ca.crt"
#</Plugin>

<% end -%>
<% if plugins.include? "notify_desktop" -%>
# TODO: support parameters here
#<Plugin notify_desktop>
#	OkayTimeout 1000
#	WarningTimeout 5000
#	FailureTimeout 0
#</Plugin>

<% end -%>
<% if plugins.include? "notify_email" -%>
# TODO: support parameters here
#<Plugin notify_email>
#	SMTPServer "localhost"
#	SMTPPort 25
#	SMTPUser "my-username"
#	SMTPPassword "my-password"
#	From "collectd@main0server.com"
#	# <WARNING/FAILURE/OK> on <hostname>.
#	# Beware! Do not use not more than two placeholders (%)!
#	Subject "[collectd] %s on %s!"
#	Recipient "email1@domain1.net"
#	Recipient "email2@domain2.com"
#</Plugin>

<% end -%>
<% if plugins.include? "ntpd" -%>
# TODO: support parameters here
#<Plugin ntpd>
#	Host "localhost"
#	Port 123
#	ReverseLookups false
#</Plugin>

<% end -%>
<% if plugins.include? "nut" -%>
# TODO: support parameters here
#<Plugin nut>
#	UPS "upsname@hostname:port"
#</Plugin>

<% end -%>
<% if plugins.include? "olsrd" -%>
# TODO: support parameters here
#<Plugin olsrd>
#	Host "127.0.0.1"
#	Port "2006"
#	CollectLinks "Summary"
#	CollectRoutes "Summary"
#	CollectTopology "Summary"
#</Plugin>

<% end -%>
<% if plugins.include? "openvpn" -%>
# TODO: support parameters here
#<Plugin openvpn>
#	StatusFile "/etc/openvpn/openvpn-status.log"
#	ImprovedNamingSchema false
#	CollectCompression true
#	CollectIndividualUsers true
#	CollectUserCount false
#</Plugin>

<% end -%>
<% if plugins.include? "perl" -%>
# TODO: support parameters here
#<Plugin perl>
#	IncludeDir "/my/include/path"
#	BaseName "Collectd::Plugins"
#	EnableDebugger ""
#	LoadPlugin Monitorus
#	LoadPlugin OpenVZ
#
#	<Plugin foo>
#		Foo "Bar"
#		Qux "Baz"
#	</Plugin>
#</Plugin>

<% end -%>
<% if plugins.include? "pinba" -%>
# TODO: support parameters here
#<Plugin pinba>
#	Address "::0"
#	Port "30002"
#	<View "name">
#		Host "host name"
#		Server "server name"
#		Script "script name"
#	<View>
#</Plugin>

<% end -%>
<% if plugins.include? "ping" -%>
# TODO: support parameters here
#<Plugin ping>
#	Host "host.foo.bar"
#	Host "host.baz.qux"
#	Interval 1.0
#	Timeout 0.9
#	TTL 255
#	SourceAddress "1.2.3.4"
#	Device "eth0"
#	MaxMissed -1
#</Plugin>

<% end -%>
<% if plugins.include? "postgresql" -%>
# TODO: support parameters here
#<Plugin postgresql>
#	<Query magic>
#		Statement "SELECT magic FROM wizard WHERE host = $1;"
#		Param hostname
#
#		<Result>
#			Type gauge
#			InstancePrefix "magic"
#			ValuesFrom "magic"
#		</Result>
#	</Query>
#
#	<Query rt36_tickets>
#		Statement "SELECT COUNT(type) AS count, type \
#		                  FROM (SELECT CASE \
#		                               WHEN resolved = 'epoch' THEN 'open' \
#		                               ELSE 'resolved' END AS type \
#		                               FROM tickets) type \
#		                  GROUP BY type;"
#
#		<Result>
#			Type counter
#			InstancePrefix "rt36_tickets"
#			InstancesFrom "type"
#			ValuesFrom "count"
#		</Result>
#	</Query>
#
#	<Database foo>
#		Host "hostname"
#		Port 5432
#		User "username"
#		Password "secret"
#
#		SSLMode "prefer"
#		KRBSrvName "kerberos_service_name"
#
#		Query magic
#	</Database>
#
#	<Database bar>
#		Interval 60
#		Service "service_name"
#
#		Query backend # predefined
#		Query rt36_tickets
#	</Database>
#</Plugin>

<% end -%>
<% if plugins.include? "powerdns" -%>
# TODO: support parameters here
#<Plugin powerdns>
#	<Server "server_name">
#		Collect "latency"
#		Collect "udp-answers" "udp-queries"
#		Socket "/var/run/pdns.controlsocket"
#	</Server>
#	<Recursor "recursor_name">
#		Collect "questions"
#		Collect "cache-hits" "cache-misses"
#		Socket "/var/run/pdns_recursor.controlsocket"
#	</Recursor>
#	LocalSocket "/opt/collectd/var/run/collectd-powerdns"
#</Plugin>

<% end -%>
<% if plugins.include? "processes" -%>
# TODO: support parameters here
#<Plugin processes>
#	Process "name"
#	ProcessMatch "foobar" "/usr/bin/perl foobar\\.pl.*"
#</Plugin>
<% end -%>

<% if plugins.include? "protocols" -%>
# TODO: support parameters here
#<Plugin protocols>
#	Value "/^Tcp:/"
#	IgnoreSelected false
#</Plugin>

<% end -%>
<% if plugins.include? "python" -%>
# TODO: support parameters here
#<Plugin python>
#	ModulePath "/path/to/your/python/modules"
#	LogTraces true
#	Interactive true
#	Import "spam"
#
#	<Module spam>
#		spam "wonderful" "lovely"
#	</Module>
#</Plugin>

<% end -%>
<% if plugins.include? "rrdcached" -%>
# TODO: support parameters here
#<Plugin rrdcached>
#	DaemonAddress "unix:/var/run/rrdcached.sock"
#	DataDir "/var/lib/rrdcached/db/collectd"
#	CreateFiles true
#	CollectStatistics true
#</Plugin>

<% end -%>
<% if store_data -%>
<Plugin rrdtool>
	DataDir "/var/lib/collectd/rrd"
#	CacheTimeout 120
#	CacheFlush 900
#	WritesPerSecond 30
#	RandomTimeout 0
#
# The following settings are rather advanced
# and should usually not be touched:
#	StepSize 10
#	HeartBeat 20
#	RRARows 1200
#	RRATimespan 158112000
#	XFF 0.1
</Plugin>

<% end -%>
<% if plugins.include? "sensors" -%>
# TODO: support parameters here
#<Plugin sensors>
#	Sensor "it8712-isa-0290/temperature-temp1"
#	Sensor "it8712-isa-0290/fanspeed-fan3"
#	Sensor "it8712-isa-0290/voltage-in8"
#	IgnoreSelected false
#</Plugin>

<% end -%>
<% if plugins.include? "snmp" -%>
# TODO: support parameters here
# See /usr/share/doc/collectd/examples/snmp-data.conf.gz for a
# comprehensive sample configuration.
#<Plugin snmp>
#	<Data "powerplus_voltge_input">
#		Type "voltage"
#		Table false
#		Instance "input_line1"
#		Scale 0.1
#		Values "SNMPv2-SMI::enterprises.6050.5.4.1.1.2.1"
#	</Data>
#	<Data "hr_users">
#		Type "users"
#		Table false
#		Instance ""
#		Shift -1
#		Values "HOST-RESOURCES-MIB::hrSystemNumUsers.0"
#	</Data>
#	<Data "std_traffic">
#		Type "if_octets"
#		Table true
#		InstancePrefix "traffic"
#		Instance "IF-MIB::ifDescr"
#		Values "IF-MIB::ifInOctets" "IF-MIB::ifOutOctets"
#	</Data>
#
#	<Host "some.switch.mydomain.org">
#		Address "192.168.0.2"
#		Version 1
#		Community "community_string"
#		Collect "std_traffic"
#		Inverval 120
#	</Host>
#	<Host "some.server.mydomain.org">
#		Address "192.168.0.42"
#		Version 2
#		Community "another_string"
#		Collect "std_traffic" "hr_users"
#	</Host>
#	<Host "some.ups.mydomain.org">
#		Address "192.168.0.3"
#		Version 1
#		Community "more_communities"
#		Collect "powerplus_voltge_input"
#		Interval 300
#	</Host>
#</Plugin>

<% end -%>
<% if plugins.include? "table" -%>
# TODO: support parameters here
#<Plugin table>
#	<Table "/proc/slabinfo">
#		Instance "slabinfo"
#		Separator " "
#		<Result>
#			Type gauge
#			InstancePrefix "active_objs"
#			InstancesFrom 0
#			ValuesFrom 1
#		</Result>
#		<Result>
#			Type gauge
#			InstancePrefix "objperslab"
#			InstancesFrom 0
#			ValuesFrom 4
#		</Result>
#	</Table>
#</Plugin>

<% end -%>
<% if plugins.include? "tail" -%>
# TODO: support parameters here
#<Plugin "tail">
#	<File "/var/log/exim4/mainlog">
#		Instance "exim"
#		<Match>
#			Regex "S=([1-9][0-9]*)"
#			DSType "CounterAdd"
#			Type "ipt_bytes"
#			Instance "total"
#		</Match>
#		<Match>
#			Regex "\\<R=local_user\\>"
#			ExcludeRegex "\\<R=local_user\\>.*mail_spool defer"
#			DSType "CounterInc"
#			Type "counter"
#			Instance "local_user"
#		</Match>
#	</File>
#</Plugin>

<% end -%>
<% if plugins.include? "tcpconns" -%>
# TODO: support parameters here
#<Plugin tcpconns>
#	ListeningPorts false
#	LocalPort "25"
#	RemotePort "25"
#</Plugin>

<% end -%>
<% if plugins.include? "teamspeak2" -%>
#<Plugin teamspeak2>
#	Host "127.0.0.1"
#	Port "51234"
#	Server "8767"
#</Plugin>

<% end -%>
<% if plugins.include? "ted" -%>
#<Plugin ted>
#	Device "/dev/ttyUSB0"
#	Retries 0
#</Plugin>

<% end -%>
<% if plugins.include? "thermal" -%>
# TODO: Do we need these parameters?
#<Plugin thermal>
#	ForceUseProcfs false
#	Device "THRM"
#	IgnoreSelected false
#</Plugin>

<% end -%>
<% if plugins.include? "tokyotyrant" -%>
#<Plugin tokyotyrant>
#	Host "localhost"
#	Port "1978"
#</Plugin>

<% end -%>
<% if plugins.include? "unixsock" -%>
#<Plugin unixsock>
#	SocketFile "/var/run/collectd-unixsock"
#	SocketGroup "collectd"
#	SocketPerms "0660"
#</Plugin>

<% end -%>
<% if plugins.include? "uuid" -%>
# TODO: specify source of UUID
#<Plugin uuid>
#	UUIDFile "/etc/uuid"
#</Plugin>

<% end -%>
<% if plugins.include? "vmem" -%>
# TODO: parameterise.
<Plugin vmem>
	Verbose false
</Plugin>

<% end -%>
<% if plugins.include? "write_http" -%>
#<Plugin write_http>
#	<URL "http://example.com/collectd-post">
#		User "collectd"
#		Password "secret"
#		VerifyPeer true
#		VerifyHost true
#		CACert "/etc/ssl/ca.crt"
#		Format "Command"
#		StoreRates false
#	</URL>
#</Plugin>

<% end -%>
Include "/etc/collectd/filters.conf"
Include "/etc/collectd/thresholds.conf"

